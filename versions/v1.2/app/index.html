<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tahoe 5</title>
    <link rel="stylesheet" href="./styles.css?v=1.1.1" />
  </head>
  <body>
    <main class="app">
      <header class="topbar">
        <div class="brand">
          <img class="brand-logo" src="./assets/tahoe-5-logo-1.png" alt="Tahoe 5 logo" />
          <div class="brand-text">
            <h1>Tahoe 5</h1>
            <p>Classic Video Poker - Vibe coded in one hour!</p>
          </div>
        </div>
        <div class="header-action">
          <button id="dealDrawBtn" class="btn primary" type="button">Deal (Enter)</button>
        </div>
      </header>

      <section class="table-area">
        <div class="cards" id="cards" aria-label="Hand cards"></div>
        <aside class="paytable" aria-label="Paytable">
          <h2>Payoffs (Base @ $10)</h2>
          <ul id="paytableList"></ul>
        </aside>
      </section>

      <section class="status-row" aria-label="Game status and result">
        <section class="status-panel" aria-label="Game status">
          <div class="status-item">
            <span>Bet</span>
            <strong id="betValue">$10</strong>
            <div class="bet-controls">
              <button id="betDownBtn" class="btn small" type="button" aria-label="Decrease bet">-</button>
              <button id="betUpBtn" class="btn small" type="button" aria-label="Increase bet">+</button>
            </div>
          </div>
          <div class="status-item">
            <span>Balance</span>
            <strong id="balanceValue">$90</strong>
          </div>
        </section>

        <section class="result">
          <p id="resultLine">Press Deal to start.</p>
          <p id="subLine">Keys: 1-5 hold, arrows bet, Enter deal/draw, S sound, H help, Esc reset.</p>
        </section>
      </section>

      <section class="utility-panel">
        <div class="controls">
          <div class="control-buttons">
            <button id="infoBtn" class="btn secondary" type="button" aria-label="Open info">Info (I)</button>
            <button id="helpBtn" class="btn secondary" type="button" aria-label="Open help">Help (H)</button>
            <button id="soundBtn" class="btn secondary" type="button" aria-label="Toggle sound">Sound: On (S)</button>
          </div>
          <p class="header-copyright">Copyright (C) 1992-2026 M. Zack Urlocker</p>
        </div>
      </section>
    </main>

    <dialog id="helpDialog">
      <h2>How To Play</h2>
      <p>1. Adjust your bet before dealing.</p>
      <p>2. Press Deal, then select cards to Hold.</p>
      <p>3. Press Draw to replace non-held cards.</p>
      <p>4. Payout uses classic Tahoe values and bet multiplier.</p>
      <h3>Keyboard Controls</h3>
      <p>Enter = Deal/Draw, 1-5 = Hold toggle, Arrows = Bet, S = Sound, H = Help, Esc = Reset</p>
      <form method="dialog">
        <button class="btn primary" value="close">Close</button>
      </form>
    </dialog>

    <dialog id="infoDialog">
      <h2>Info</h2>
      <img class="info-logo" src="./assets/tahoe-5-logo-1.png" alt="Tahoe 5 logo" />
      <p>This project was based on a Turbo Pascal shareware game I published in 1992. It was made available for DOS, Windows and the Atari Portfolio. Unfortunately, I lost the source code decades ago.</p>
      <p>So last summer, I vibe coded a text mode version using Turbo Pascal 4.0 in a DOS Box with some ChatGPT assistance. I wrote most of the code (about 600 lines) by hand. ChatGPT generated an efficient shuffle algorithm as well as the music routines. The latter didn't compile and had to be corrected by hand.</p>
      <p>Now with ChatGPT 5.3 and the CodeX app from OpenAI, I created a PRD from the working Turbo Pascal source code. Then I asked it to generate a VS Code project. It created the JavaScript app (around 700 lines) and the related html and css files (another 700 lines.) It compiled and ran first time! I added some graphics for the cards and then added a few features and fixed minor bugs using prompts in CodeX.</p>
      <p>I did not write or review any code in this version. It just worked!</p>
      <form method="dialog">
        <button class="btn primary" value="close">Close</button>
      </form>
    </dialog>

    <script src="./app.js?v=1.1.1"></script>
  </body>
</html>
